<!-- <app-navbar-style-one></app-navbar-style-one>
<br><br><br><br><br><br><br><br> -->

<div class="main-banner">
    <div class="d-table">
        <div class="d-table-cell">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 offset-lg-3">
                        <div class="banner-form ml-3">
            <!-- <p-toast></p-toast> -->

                            <form (submit)="signin()" [formGroup]="form" id="createForm" enctype="multipart/form-data">

                                <div class="form-group">
                                    <label for="inputEmail">Email</label>
                                    <input type="email" id="inputEmail" class="form-control" 
                                           placeholder="Votre Adresse Email" 
                                           formControlName="email" 
                                           [ngClass]="{'is-invalid': form.get('email')?.invalid && form.get('email')?.touched || emailError}"
                                           required>
                                    
                                    <!-- Erreurs de validation du formulaire -->
                                    <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="invalid-feedback">
                                        <div *ngIf="form.get('email')?.errors?.['required']">L'email est requis</div>
                                        <div *ngIf="form.get('email')?.errors?.['email']">Format d'email invalide</div>
                                    </div>
                                    
                                    <!-- Erreur du serveur pour l'email -->
                                    <div *ngIf="emailError" class="text-danger mt-1">
                                        {{ emailError }}
                                    </div>
                                </div>
                            
                                <div class="form-group">
                                    <label for="inputPassword">Mot de passe</label>
                                    <input type="password" id="inputPassword" class="form-control" 
                                           placeholder="Votre Mot de passe" 
                                           formControlName="password" 
                                           [ngClass]="{'is-invalid': form.get('password')?.invalid && form.get('password')?.touched || passwordError}"
                                           required>
                                    
                                    <!-- Erreurs de validation du formulaire -->
                                    <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="invalid-feedback">
                                        <div *ngIf="form.get('password')?.errors?.['required']">Le mot de passe est requis</div>
                                    </div>
                                    
                                    <!-- Erreur du serveur pour le mot de passe -->
                                    <div *ngIf="passwordError" class="text-danger mt-1">
                                        {{ passwordError }}
                                    </div>
                                </div>
                               
                                <div class="flex items-center justify-between mb-5 gap-8">
                                  <a href="/forgetpassword" 
                                     class="font-medium no-underline text-left cursor-pointer" 
                                     style="color: var(--primary-color); margin-right: auto;">
                                     Mot de passe oubli√©
                                  </a>
                                  <a 
                                  (click)="onSignupClick()"
                                     class="font-medium no-underline text-right cursor-pointer" 
                                     style="color: var(--primary-color); margin-left: auto;">
                                     Rejoignez-nous
                                  </a>
                              </div>
                              

                                <br>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary radius-30">Se Connecter</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <br><br><br><br><br><br><br><br> -->
<p-dialog [(visible)]="displaySignupDialog" [modal]="true" [closable]="true" [style]="{width: '400px'}">
    <ng-template pTemplate="content">
      <app-signup></app-signup> <!-- Affiche le SignupComponent -->
    </ng-template>
</p-dialog>